---
apiVersion: v1
kind: Service
metadata:
  name: "{{ meta.name }}-api-svc"
  namespace: "{{ project_name }}"
  labels:
    app: "{{ deployment_type }}-api"
spec:
  selector:
    app: "{{ deployment_type }}-api"
  ports:
    - protocol: TCP
      targetPort: 24817
      name: pulp-api-24817
      port: 24817
{% if ingress_type|lower == "none" %}
      nodePort: 24817
  type: NodePort
{% endif %}
